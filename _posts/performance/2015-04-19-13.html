---
layout: default
title: HTML页面加载和解析流程
category: performance
---

<div class="row">
    <div class="col-sm-12 blog-main">
        <div class="blog-post">
            <h2 class="blog-post-title">{{ page.title }}</h2>
            <p class="blog-post-meta">{{ page.date | date_to_string }}</p>
            <p class="my-p my-h">HTML页面加载和解析流程</p>
            <p class="my-p">1. 用户输入网址（假设是个html页面，并且是第一次访问），浏览器向服务器发出请求，服务器返回html文件。</p>
            <p class="my-p">2. 浏览器开始载入html代码，发现head标签内有一个link标签引用外部CSS文件。 </p>
            <p class="my-p">3. 浏览器又发出CSS文件的请求，服务器返回这个CSS文件。</p>
            <p class="my-p">4. 浏览器继续载入html中body部分的代码，并且CSS文件已经拿到手了，可以开始渲染页面了。 </p>
            <p class="my-p">5. 浏览器在代码中发现一个img标签引用了一张图片，向服务器发出请求。此时浏览器不会等到图片下载完，而是继续渲染后面的代码。</p>
            <p class="my-p">6. 服务器返回图片文件，由于图片占用了一定面积，影响了后面段落的排布，因此浏览器需要回过头来重新渲染这部分代码。</p>
            <p class="my-p">7. 浏览器发现了一个包含一行Javascript代码的script标签，赶快运行它。</p>
            <p class="my-p">8. Javascript脚本执行了这条语句，它命令浏览器隐藏掉代码中的某个style（style.display=”none”）。杯具啊，突然就少了这么一个元素，浏览器不得不重新渲染这部分代码。 </p>
            <p class="my-p">9. 终于等到了/html的到来，浏览器泪流满面…… </p>
            <p class="my-p">10. 等等，还没完，用户点了一下界面中的“换肤”按钮，Javascript让浏览器换了一下＜link＞标签的CSS路径。</p>
            <p class="my-p">11. 浏览器召集了在座的各位div，span，ul，li们，“大伙儿收拾收拾行李，咱得重新来过……”，浏览器向服务器请求了新的CSS文件，重新渲染页面。</p>

        </div><!-- /.blog-main -->
    </div>
</div>


